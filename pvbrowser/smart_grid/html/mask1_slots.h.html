<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="Generator" content="Kate, the KDE Advanced Text Editor" />
<title>mask1_slots.h</title>
</head>
<body>
<pre>
These are the "slot"-functions that must be filled out by the programmer of the visualization.
The framework is initially generated by pvdevelop.
</pre>
<hr>

<pre>
<span style="font-style: italic;color: #808080;">//###############################################################</span>
<span style="font-style: italic;color: #808080;">//# mask1_slots.h for ProcessViewServer created: Mi Mrz 28 18:50:07 2007</span>
<span style="font-style: italic;color: #808080;">//# please fill out these slots</span>
<span style="font-style: italic;color: #808080;">//# here you find all possible events</span>
<span style="font-style: italic;color: #808080;">//# Yours: Lehrig Software Engineering</span>
<span style="font-style: italic;color: #808080;">//###############################################################</span>

<span style="font-style: italic;color: #808080;">// todo: uncomment me if you want to use this data aquisiton</span>
<span style="font-style: italic;color: #808080;">// also uncomment this classes in main.cpp and pvapp.h</span>
<span style="font-style: italic;color: #808080;">// also remember to uncomment rllib in the project file</span>
<span style="font-weight: bold;color: #000000;">extern</span><span style="color: #000000;"> rlModbusClient     modbus;</span>
<span style="font-style: italic;color: #808080;">//extern rlSiemensTCPClient siemensTCP;</span>
<span style="font-style: italic;color: #808080;">//extern rlPPIClient        ppi;</span>

<span style="font-weight: bold;color: #000000;">typedef</span><span style="color: #000000;"> </span><span style="font-weight: bold;color: #000000;">struct</span><span style="color: #000000;"> </span><span style="font-style: italic;color: #808080;">// (todo: define your data structure here)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="color: #800000;">char</span><span style="color: #000000;"> s[</span><span style="color: #0000ff;">6</span><span style="color: #000000;">]; </span><span style="font-style: italic;color: #808080;">// switches</span>
<span style="color: #000000;">}</span>
<span style="color: #000000;">DATA;</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotInit(PARAM *p, DATA *d)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || d == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  memset(d,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="font-weight: bold;color: #000000;">sizeof</span><span style="color: #000000;">(DATA));</span>
<span style="color: #000000;">  d-&gt;s[</span><span style="color: #0000ff;">0</span><span style="color: #000000;">] = -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  d-&gt;s[</span><span style="color: #0000ff;">1</span><span style="color: #000000;">] = -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  d-&gt;s[</span><span style="color: #0000ff;">2</span><span style="color: #000000;">] = -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  d-&gt;s[</span><span style="color: #0000ff;">3</span><span style="color: #000000;">] = -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  d-&gt;s[</span><span style="color: #0000ff;">4</span><span style="color: #000000;">] = -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  d-&gt;s[</span><span style="color: #0000ff;">5</span><span style="color: #000000;">] = -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  pvTablePrintf(p,table1,-</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"L1"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvTablePrintf(p,table1,-</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"L2"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvTablePrintf(p,table1,-</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">2</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"L3"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvTablePrintf(p,table1,-</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">3</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"L4"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvTablePrintf(p,table1,-</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">4</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"L5"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvTablePrintf(p,table1,-</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">5</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"L6"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvTablePrintf(p,table1,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,-</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"Lamp"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvTablePrintf(p,table1,</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,-</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"Switch"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvSetTablePixmap(p,table1,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"icon_green.bmp"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvSetTablePixmap(p,table1,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"icon_green.bmp"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvSetTablePixmap(p,table1,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">2</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"icon_green.bmp"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvSetTablePixmap(p,table1,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">3</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"icon_green.bmp"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvSetTablePixmap(p,table1,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">4</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"icon_green.bmp"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvSetTablePixmap(p,table1,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">5</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"icon_green.bmp"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvSetTableCheckBox(p,table1,</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"S1"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvSetTableCheckBox(p,table1,</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"S2"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvSetTableCheckBox(p,table1,</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">2</span><span style="color: #000000;">,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"S3"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  pvSetTableCheckBox(p,table1,</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,</span><span style="color: #0000ff;">3</span><span style="color: #000000;">,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,</span><span style="color: #dd0000;">"S4"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotNullEvent(PARAM *p, DATA *d)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="color: #800000;">int</span><span style="color: #000000;"> i, val;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || d == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">for</span><span style="color: #000000;">(i=</span><span style="color: #0000ff;">0</span><span style="color: #000000;">; i&lt;</span><span style="color: #0000ff;">6</span><span style="color: #000000;">; i++)</span>
<span style="color: #000000;">  {</span>
<span style="color: #000000;">    val = modbus.readBit(</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,i+</span><span style="color: #0000ff;">4</span><span style="color: #000000;">); </span><span style="font-style: italic;color: #808080;">// the first 4 bits are outputs</span>
<span style="color: #000000;">    </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(d-&gt;s[i] != val)</span>
<span style="color: #000000;">    {</span>
<span style="color: #000000;">      </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(val == </span><span style="color: #0000ff;">1</span><span style="color: #000000;">) pvSetTablePixmap(p,table1,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,i,</span><span style="color: #dd0000;">"icon_green.bmp"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">      </span><span style="font-weight: bold;color: #000000;">else</span><span style="color: #000000;">         pvSetTablePixmap(p,table1,</span><span style="color: #0000ff;">0</span><span style="color: #000000;">,i,</span><span style="color: #dd0000;">"icon_red.bmp"</span><span style="color: #000000;">);</span>
<span style="color: #000000;">      d-&gt;s[i] = val;</span>
<span style="color: #000000;">    }</span>
<span style="color: #000000;">  }</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotButtonEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotButtonPressedEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotButtonReleasedEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotTextEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">const</span><span style="color: #000000;"> </span><span style="color: #800000;">char</span><span style="color: #000000;"> *text)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || text == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotSliderEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">int</span><span style="color: #000000;"> val)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || val &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;">) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotCheckboxEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">const</span><span style="color: #000000;"> </span><span style="color: #800000;">char</span><span style="color: #000000;"> *text)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || text == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotRadioButtonEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">const</span><span style="color: #000000;"> </span><span style="color: #800000;">char</span><span style="color: #000000;"> *text)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || text == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotGlInitializeEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotGlPaintEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotGlResizeEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">int</span><span style="color: #000000;"> width, </span><span style="color: #800000;">int</span><span style="color: #000000;"> height)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || width &lt; </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || height &lt; </span><span style="color: #0000ff;">0</span><span style="color: #000000;">) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotGlIdleEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotTabEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">int</span><span style="color: #000000;"> val)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || val &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;">) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotTableTextEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">int</span><span style="color: #000000;"> x, </span><span style="color: #800000;">int</span><span style="color: #000000;"> y, </span><span style="color: #800000;">const</span><span style="color: #000000;"> </span><span style="color: #800000;">char</span><span style="color: #000000;"> *text)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || x &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;"> || y &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;"> || text == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(id == table1 &amp;&amp; x == </span><span style="color: #0000ff;">1</span><span style="color: #000000;">)</span>
<span style="color: #000000;">  {</span>
<span style="color: #000000;">    </span><span style="color: #800000;">int</span><span style="color: #000000;"> val;</span>
<span style="color: #000000;">    sscanf(text,</span><span style="color: #dd0000;">"%d"</span><span style="color: #000000;">,&amp;val);</span>
<span style="color: #000000;">    modbus.writeSingleCoil(</span><span style="color: #0000ff;">1</span><span style="color: #000000;">,y,val);</span>
<span style="color: #000000;">  }</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotTableClickedEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">int</span><span style="color: #000000;"> x, </span><span style="color: #800000;">int</span><span style="color: #000000;"> y, </span><span style="color: #800000;">int</span><span style="color: #000000;"> button)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || x &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;"> || y &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;"> || button &lt; </span><span style="color: #0000ff;">0</span><span style="color: #000000;">) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotSelectionEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">int</span><span style="color: #000000;"> val, </span><span style="color: #800000;">const</span><span style="color: #000000;"> </span><span style="color: #800000;">char</span><span style="color: #000000;"> *text)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || val &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;"> || text == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotClipboardEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">int</span><span style="color: #000000;"> val)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || val &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;">) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotRightMouseEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">const</span><span style="color: #000000;"> </span><span style="color: #800000;">char</span><span style="color: #000000;"> *text)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || text == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-style: italic;color: #808080;">//pvPopupMenu(p,-1,"Menu1,Menu2,,Menu3");</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotKeyboardEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">int</span><span style="color: #000000;"> val, </span><span style="color: #800000;">int</span><span style="color: #000000;"> modifier)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || val &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;"> || modifier &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;">) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotMouseMovedEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">float</span><span style="color: #000000;"> x, </span><span style="color: #800000;">float</span><span style="color: #000000;"> y)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || x &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;"> || y &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;">) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotMousePressedEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">float</span><span style="color: #000000;"> x, </span><span style="color: #800000;">float</span><span style="color: #000000;"> y)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || x &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;"> || y &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;">) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotMouseReleasedEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">float</span><span style="color: #000000;"> x, </span><span style="color: #800000;">float</span><span style="color: #000000;"> y)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || x &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;"> || y &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;">) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotMouseOverEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">int</span><span style="color: #000000;"> enter)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || enter &lt; -</span><span style="color: #0000ff;">1000</span><span style="color: #000000;">) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>

<span style="color: #800000;">static</span><span style="color: #000000;"> </span><span style="color: #800000;">int</span><span style="color: #000000;"> slotUserEvent(PARAM *p, </span><span style="color: #800000;">int</span><span style="color: #000000;"> id, DATA *d, </span><span style="color: #800000;">const</span><span style="color: #000000;"> </span><span style="color: #800000;">char</span><span style="color: #000000;"> *text)</span>
<span style="color: #000000;">{</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">if</span><span style="color: #000000;">(p == NULL || id == </span><span style="color: #0000ff;">0</span><span style="color: #000000;"> || d == NULL || text == NULL) </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> -</span><span style="color: #0000ff;">1</span><span style="color: #000000;">;</span>
<span style="color: #000000;">  </span><span style="font-weight: bold;color: #000000;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">0</span><span style="color: #000000;">;</span>
<span style="color: #000000;">}</span>
</pre></body>
</html>
